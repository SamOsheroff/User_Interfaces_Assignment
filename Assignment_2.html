<!DOCTYPE html>
<!--
Authors: Sam Osheroff and Tamasha Pathirathna
Date: 27/09/18

This is an html file containing the html5 code to create the main page of the website. The file is linked to a cascading style sheet named "Assignment1.css" which contains relevant style code. Hyperlinks have been added to the "Restaurant and Hotel", "Personal Information" and "Last Opinions" labels. The Restaurant and Hotel link guides the user back to the main page, the others guide the user their associated page.
-->
<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
        <link rel="stylesheet" href="Assignment_2.css">
        
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
        
        <script>
            $(document).ready(function(){
                $(".personalinfolink").click(function(){
                    $(".personalinfo").show();
                    $(".personalinfo").removeClass('hide');
                    $(".lastopinions").hide();
                    $(".middleRegister").hide();
                });
    
                $(".lastopinionslink").click(function(){
                    $(".personalinfo").hide();
                    $(".middleRegister").hide();
                    $(".lastopinions").show(); 
                    $(".lastopinions").removeClass("hide");
                }); 
    
                $(".mainpagelink").click(function(){
                    $(".personalinfo").hide();
                    $(".lastopinions").hide();
                    $(".middleRegister").hide();
                    $(".left").show();
                    $(".right").show();
                }); 
    
                $(".optionsinfolink").click(function(){
                    $(".middleOptions").show();
                    $(".middleOptions").removeClass('hide');
                    $("div.left").hide();
                    $("div.right").hide();
                    $(".personalinfo").hide();
                    $(".lastopinions").hide();
                    $(".middleRegister").hide();
                    $(".middleLogin").hide();
                });
                
                $("#register").click(function(){
                    $(".middleRegister").show();
                    $(".middleRegister").removeClass('hide');
                    $("div.left").hide();
                    $("div.right").hide();
                    $(".personalinfo").hide();
                    $(".lastopinions").hide();
                    $(".middleOptions").hide();
                    $(".middleLogin").hide();
                });
                
                $("#login").click(function(){
                    $(".middleLogin").show();
                    $(".middleLogin").removeClass('hide');
                    $("div.left").hide();
                    $("div.right").hide();
                    $(".personalinfo").hide();
                    $(".lastopinions").hide();
                    $(".middleOptions").hide();
                    $(".middleRegister").hide();
                });
                
                $("#save").click(function() {
                    var name = $("#name").val();
                    $('#firstname').val(name);
                    
                    var surname = $("#dsurname").val();
                    $('#surname').val(surname);
                    
                    var address = $("#daddress").val();
                    $('#address').val(address);
                    
                    var dob = $("#ddob").val();
                    $('#dob').val(dob);
                    
                    var email = $("#demail").val();
                    $('#email').val(email);
                    
                    var password = $("#password").val();
                    var cpassword = $("#cpassword").val();


                    if (name == '' || email == '' || password == '' || cpassword == '' || username == '' || dob == '' || address == '') {
                        alert("Please fill all required fields.");
                    } else if ((password.length) < 8) {
                        alert("Password should at least 8 character in length.");
                    } else if (!(password).match(cpassword)) {
                        alert("Your passwords don't match. Try again.");
                    } else if ($agree.prop("checked" == false)){
                        alert('Please indicate that you have read and agree to the Terms and Conditions and Privacy Policy'); 
                    }else {
                        $.post("register.php", {
                            name1: name,
                            email1: email,
                            password1: password
                        }, function(data) {
                            if (data == 'You have Successfully Registered.') {
                                $("form")[0].reset();
                            }
                            alert(data);
                        });
                    }
                });
                
                 $("#delete").click(function() {
                    $('#registration')[0].reset();
                    $('#firstname').val("Juan");
                    $('#surname').val("Rios");
                    $('#address').val("Calle de Fuencarral, 123");
                    $('#dob').val("12/12/1995");
                    $('#email').val("juan.rios@gmail.com");
                 });
    
 
            
                $("span.glyphicon-remove").click(function(){
                    $(this).parent().remove();
                });
           });
            
        </script>
<!-- begin scripts for the creation and deletion of new preference boxes, seperate from the jQuery scripts because these new boxes do not exist on page startup-->
        <script>

function newprefbox() {
    var prefboxesfilled = true;
    var x = document.getElementsByClassName("prefbox");
    for (i = 0; i < x.length; i++) {
        if (x[i].firstChild.nodeType==1) {
            if (x[i].firstChild.value=='' && x[i].firstChild.style.display=="none") {
                prefboxesfilled = false
            }
        }
    };    
    if (prefboxesfilled == true){
            makeaprefbox()
    }
}
function makeaprefbox(){     
    var newinputhtml="<input type='text' class='newpref' size='7' required>";
    var newxbuttonhtml="<span class='glyphicon glyphicon-remove newbox' onclick='deleteprefbox(event)'></span>";
    var newdivhtml="<div class='prefbox newprefbox' id='new'>" + newinputhtml + newxbuttonhtml + "</div>";
    $("#left").append(newdivhtml)  
}

 function deleteprefbox(event) {
     var x=event.target;
     x.parentElement.style.display="none"
}

        
        </script>
        
        
        
    </head>
    
<body>
     


    
    
    <!--begin header section, including logo, website title, and menu bar-->

    <div class = "top"> 

        <h2 class="top">
            <img class="icon" src= http://cdn.onlinewebfonts.com/svg/img_481313.png width="35px" height="35px" float="left">
            <a href = "#mainpage" class="mainpagelink">Restaurant and Hotel Reviews</a>
        </h2>
        
        <div class = "topright"> 
            <a href="#registrationinfo" class="optionsinfolink hyper2">Log Out</a>&emsp; 
            <a href="#Option 1" class="hyper2">Option 2</a>&emsp; 
            <a href="#Option 1" class="hyper2">Option 3</a>
        </div> 
    </div>
    
<!--begin middle section, including user information and a middle section to display web contents-->
    
    <div class="middle">
        
        <div class = "middleOptions hide">
            <div id = "centeredButtons">
                <input type="button" name="register" id="register" value="Register">
                <input type="button" name="login" id="login" value="Login">
            </div>
        </div>
        
        <div class = "middleLogin hide">
            <h1 class = "left">Sign-In Form</h1>
            
            <label>*Username :</label>
            <input type="text" name="loginUsername" id="loginUsername">
            
            <label>*Password :</label>
            <input type="password" name="loginPassword" id="loginPassword">
            
            <input type="button" name="submit" id="submit" value="Submit">
        </div>
            
          <div class = "middleRegister hide">
              <h1 class = "left">Registration Form</h1>
              <h5>* = required.</h5>
              
              <div class="profile">
                <h4>Profile Picture (optional)</h4>
                <div class="small-12 medium-2 large-2 columns">
                    <i class="upload"></i>
                    <input class="file-upload" type="file" accept="image/*"/>
                </div>
              </div>
              
              <form id = "registration" class="form" method="post" action="#">
                  <h4>Account Information</h4>
                    <label>*Username :</label>
                    <input type="text" name="dusername" id="username">
                    <label>*Password :</label>
                    <input type="password" name="password" id="password">
                    <label>*Confirm Password :</label>
                    <input type="password" name="cpassword" id="cpassword">
                  
                  <h4>Personal Information</h4>
                    <label>*Name :</label>
                    <input type="text" name="name" id="name">
                    <label>*Surname :</label>
                    <input type="text" name="dsurname" id="dsurname">
                    <label>*Email :</label>
                    <input type="text" name="demail" id="demail">
                    <label>*Date of Birth (dd/mm/yyyy) :</label>
                    <input type="text" name="ddob" id="ddob">
                    <label>*Address :</label>
                    <input type="text" name="daddress" id="daddress">
                  
                  <input type="checkbox" name="checkbox" value="check" id="agree" /> I have read and agree to the Terms and Conditions and Privacy Policy
                  
                  <input type="button" name="save" id="save" value="Save">
                  <input type="button" name="delete" id="delete" value="Delete">
              </form>
              
            </div>
        
        <!--begin left middle section, including user information and previews of reviews-->
        <div class="left" id="left">

            <h1 class="left">
                <img class="leftone" src=https://openclipart.org/download/386/Gerald-G-Man-Face-4-World-Label.svg width="25px" height="25px" float="left">
                Juan-Rios
            </h1>
            
            <h2 class="leftone" float="right">
                <a href="#personalinfo" class="personalinfolink">Personal Information</a>
            </h2>
            <ul class="left">
                <li><b>Country of origin:</b> United States</li>
                <li><b>Member since:</b> 2008</li>
            </ul>
            
            <hr class="left">
            
            <h2 class="lefttwo">
                <a href = "#lastopinions"
                   class="lastopinionslink">Last opinions</a>
            </h2>
            
            <ul class="left">
                <li class="hyper">
                    <a href="#100 Montaditos" class="hyper" id="btnAA">100 Montaditos, Madrid, Spain</a>
                </li>
                <li class="beta">
                    <i>September 1, 2017 - </i> This is a great cheap optio...</li>
                <li class="hyper">
                    <a href="#Perrachica" class="hyper" id="btnBB">Perrachica, Madrid, Spain</a>
                </li>
                <li class="beta">
                    <i>November 14, 2017 - </i> While the restaurant is ver...</li>
                <li class="hyper">
                    <a href="#Starbucks" class="hyper" id="btnCC">Starbucks, Madrid, Spain</a>
                </li>
                <li class="beta">
                    <i>January 12, 2018 - </i>I got my phone stolen here, ...</li>
            </ul>
            
            <hr class="left">
            
         <h2 class="lefttwo">
                My preferences
                <div style="float:right" class="plusbutton">
                    <span class="glyphicon glyphicon-plus" onclick="newprefbox()"></span>

                </div>
            </h2>
            
            <div class="prefbox">
                Weekend
                <span class="glyphicon glyphicon-remove" onclick="deleteprefbox()"></span>
            </div>
            
            <div class="prefbox">
                friends
                <span class="glyphicon glyphicon-remove" onclick="deleteprefbox()"></span>
            </div>
            
            <div class="prefbox">
                Travel
                <span class="glyphicon glyphicon-remove" onclick="deleteprefbox()"></span>
            </div>
            
        </div>

        
        
        <!--begin right middle section, space to display user content-->
        <div class="right">

            <p id="demo">demo</p>

            

            <!--begin personal information section, to be shown when personal information link is clicked and hidden otherwise-->    
            <div class="personalinfo hide">
            <div class = "col-3 menu">
                    <h1 class = "left">Personal Information</h1>
                    <ul>
                        <li class = "structure"><input id = "firstname" type="text" name="Juan" value="Juan"></li>
                        <li class = "structure"><input id = "surname" type="text" name="Rios" value="Surname"></li>
                        <li><input id = "email" type="text" name="email" value="juan.rios@gmail.com"></li>
                        <li class = "structure"><input id = "address" type="text" name="Calle de Fuencarral, 123" value="Address"></li>
                        <li class = "structure"><input type="text" name="phone" value="745 902 543"></li>
                        <li><input id = "dob" type="text" name="dob" value="12/12/1995"></li>
                    </ul>
                </div>
                <!-- begin section with dummy information for app activity placed in icons, also under to be shown when personal information link is clicked -->
                <div style= "position:relative left:0 right: 0 bottom:0">
                    <h1 class = "left">My Activity in the App</h1>
                    <div class = "circles"><h1 class = "circles">X <br />Points</h1></div>
                    <div class = "circles"><h1 class = "circles">2 <br />Levels</h1></div>
                    <div class = "circles"><h1 class = "circles">3 <br />Opinions</h1></div>
                    <div class = "circles"><h1 class = "circles">5 <br />Photos</h1></div>
  
                </div>
            </div>
            <div class="lastopinions hide">
            <h1 class = "left">Last Opinions</h1>
                <div class = "opinions">

                        <img class="mainicon" src= https://cdn.designxel.com/wp-content/uploads/2017/09/cartoon-pizza-restaurant-vector-ai.jpg width="80px" height="80px" >
                    <ul>
                        <li><a href=#100montaditos id="btnA">100 Montaditos</a></li>
                        <li>Madrid, Spain</li>
                        20/09/2018
                    </ul>
                     <p>
                         <br>
                    This is a great cheap option for food and drinks! It's not very expensive and there's always a good crowd to keep everyone having fun. A great place for college students or travelers on a budget that want to experience modern, Spanish culture.
                    </p>
                </div>
            
                <div class = "opinions">

                    <img class="mainicon" src= https://png2.kisspng.com/20180304/uhe/kisspng-cafe-restaurant-cartoon-color-coffee-house-5a9c8ee17285d2.8076028615202096334691.png width="80px" height="80px">
                    <ul>
                        <li><a href=#Perrachica id="btnB">Perrachica</a></li>
                        <li>Madrid, Spain</li>
                        <li>20/10/2018</li>
                    </ul>
                    <p>
                        <br>
                    While the restaurant is very beautiful and looks amazing from the outside, I had a terrible experience here. The waiters are very rude and won't serve you water if you ask for it. I will not be returning here.
                    </p>
                </div>
                
                <!--loading icon inside parent container-->
        <div class="bottomphone" style="background-color: inherit">
        <div class="bottomicon" style="width:inherit">
                <span class="glyphicon glyphicon-refresh " style="font-size: 25px; padding:0; margins:0"></span>
            <p>load more</p>
            
        </div>
            </div>
            </div>

            
            
            
            
            
            
            </div>
            </div>

        
        
        
        
        
        
        
        



    <!--begin footer section, including social media links and copyright-->
    <div class = "footer">

            <p class = "footer"> 
            <span class="right"><a href="#Facebook" class="hyperFooter"> Facebook </a></span>
            <span class="right"><a href="#Twitter" class="hyperFooter"> Twitter </a></span> 
            <span><a href="Copyright" class="hyperFooter"> Copyright </a></span>
            </p>

    </div>
            
    <!-- begin content section of popup information boxes to display on clicking restaurant name -->
<div id="modalA" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <span class="close closepopup">&times;</span>
      <h2>100 Montaditos : Information</h2>
    </div>
    <div class="modal-body">
      <p>Information about 100 Montaditos</p>
    </div>

  </div>

</div>
<div id="modalB" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <span class="close closepopup">&times;</span>
      <h2>Perrachica : Information</h2>
    </div>
    <div class="modal-body">
      <p>Information about Perrachica</p>
    </div>

  </div>

</div>
    
<div id="modalC" class="modal">
  <div class="modal-content">
    <div class="modal-header">
      <span class="close closepopup">&times;</span>
      <h2>Starbucks : Information</h2>
    </div>
    <div class="modal-body">
      <p>Information about Starbucks</p>
    </div>

  </div>

</div>
 <!-- begin scripts for the opening and closing of popup information boxes -->
    
    
    <script>
//script to control first modal display
var modalA = document.getElementById('modalA');
var btnA = document.getElementById("btnA");
var spanA = document.getElementsByClassName("closepopup")[0];
btnA.onclick = function() {
        modalA.style.display = "block";
}
spanA.onclick = function() {
    modalA.style.display = "none";
}

//script to control second modal display
var modalB = document.getElementById('modalB');
var btnB = document.getElementById("btnB");
var spanB = document.getElementsByClassName("closepopup")[1];
btnB.onclick = function() {
        modalB.style.display = "block";
}
spanB.onclick = function() {
    modalB.style.display = "none";
}
//script to control third modal display, as well as allowing user to close popups by clicking outside the popup box
var modalC = document.getElementById('modalC');
var btnC = document.getElementById("btnC");
var spanC = document.getElementsByClassName("closepopup")[2];
//btnC.onclick = function() {
//        modalC.style.display = "block";
// }
spanC.onclick = function() {
   modalC.style.display = "none";
}
window.onclick = function(event) {
    if (event.target == modalC || event.target == modalB || event.target == modalA) {
        modalC.style.display = "none";
        modalB.style.display = "none";
        modalA.style.display = "none";
    }
}

//alternate script to display first modal from different link
var btnAA=document.getElementById("btnAA")
btnAA.onclick = function() {
        modalA.style.display = "block";
}   
//alternate script to display second modal from different link
var btnBB=document.getElementById("btnBB")
btnBB.onclick = function() {
        modalB.style.display = "block";
} 
//alternate script to display third modal from different link
var btnCC=document.getElementById("btnCC")
btnCC.onclick = function() {
        modalC.style.display = "block";
}      
        
        
    </script>   
</body>
</html>

